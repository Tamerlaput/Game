<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Ruelle Maudite</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: linear-gradient(to bottom, #0a0a0a, #1a0a0a);
      color: #eee;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .game {
      max-width: 600px;
      width: 100%;
      background: #1c1c1c;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(255, 0, 0, 0.3);
      border: 2px solid #ff4d4d;
    }
    .stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      padding: 15px;
      background: #0a0a0a;
      border-radius: 8px;
      border: 1px solid #ff4d4d;
    }
    .stat {
      text-align: center;
    }
    .stat-label {
      font-size: 12px;
      color: #888;
      text-transform: uppercase;
    }
    .stat-value {
      font-size: 24px;
      font-weight: bold;
      color: #ff4d4d;
    }
    #story {
      min-height: 150px;
      line-height: 1.6;
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      width: 100%;
      margin-top: 10px;
      padding: 15px;
      background: linear-gradient(to right, #ff4d4d, #cc0000);
      border: none;
      color: white;
      font-size: 16px;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s;
      font-family: 'Courier New', monospace;
      font-weight: bold;
    }
    button:hover {
      background: linear-gradient(to right, #ff1f1f, #990000);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 0, 0, 0.4);
    }
    button:active {
      transform: translateY(0);
    }
    .death {
      color: #ff0000;
      font-weight: bold;
      animation: pulse 1s infinite;
    }
    .victory {
      color: #00ff00;
      font-weight: bold;
      animation: pulse 1s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .combat {
      background: rgba(255, 0, 0, 0.1);
      border-left: 4px solid #ff0000;
      padding: 10px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
<div class="game">
  <div class="stats">
    <div class="stat">
      <div class="stat-label">PV</div>
      <div class="stat-value" id="hp">100</div>
    </div>
    <div class="stat">
      <div class="stat-label">Attaque</div>
      <div class="stat-value" id="atk">10</div>
    </div>
    <div class="stat">
      <div class="stat-label">Argent</div>
      <div class="stat-value" id="money">0</div>
    </div>
  </div>
  <p id="story"></p>
  <div id="choices"></div>
</div>
<script>
  let playerStats = {
    hp: 100,
    maxHp: 100,
    atk: 10,
    money: 0,
    inventory: []
  };

  const game = {
    start: {
      text: "ðŸŒ™ Tu te rÃ©veilles dans une ruelle sombre, la tÃªte qui tourne. Derniers souvenirs : une soirÃ©e qui a mal tournÃ©. Du sang sur tes mains... pas le tien. Qu'est-ce qui s'est passÃ© ?",
      choices: [
        { text: "ðŸ” Fouiller tes poches", next: "fouiller_poches" },
        { text: "ðŸš¶ Explorer la ruelle", next: "ruelle" },
        { text: "ðŸ“± VÃ©rifier ton tÃ©lÃ©phone", next: "telephone" },
        { text: "ðŸ—£ï¸ Appeler Ã  l'aide", next: "aide" }
      ]
    },
    
    fouiller_poches: {
      text: "Tu trouves : un couteau ensanglantÃ©, un prÃ©servatif usagÃ©, et 50â‚¬. Charmant. Les souvenirs reviennent : la dispute, la femme, le type qui t'a regardÃ© de travers...",
      choices: [
        { text: "ðŸ’° Prendre l'argent (+50â‚¬)", next: "prendre_argent", effect: () => playerStats.money += 50 },
        { text: "ðŸ”ª Garder le couteau (+5 ATK)", next: "prendre_couteau", effect: () => playerStats.atk += 5 },
        { text: "ðŸ¤® Vomir et partir", next: "ruelle" }
      ]
    },

    prendre_argent: {
      text: "L'argent sera toujours utile. Tu le ranges et continues.",
      choices: [
        { text: "âž¡ï¸ Explorer la ruelle", next: "ruelle" }
      ]
    },

    prendre_couteau: {
      text: "Le couteau te donne une sensation de sÃ©curitÃ© morbide. +5 ATK !",
      choices: [
        { text: "âž¡ï¸ Explorer la ruelle", next: "ruelle" }
      ]
    },

    telephone: {
      text: "Ton tÃ©lÃ©phone est mort. Mais tu as 3 messages non lus de 'Inconnu' : '1/3 : Je sais ce que tu as fait', '2/3 : Tu ne peux pas t'Ã©chapper', '3/3 : Regarde derriÃ¨re toi'",
      choices: [
        { text: "ðŸ˜¨ Regarder derriÃ¨re toi", next: "regarder_derriere" },
        { text: "ðŸƒ Courir sans regarder", next: "courir_aveugle" }
      ]
    },

    regarder_derriere: {
      text: "Personne. Juste ton ombre qui semble plus grande que d'habitude. Un rire lointain...",
      choices: [
        { text: "âž¡ï¸ Continuer", next: "ruelle" }
      ]
    },

    courir_aveugle: {
      text: "Tu cours Ã  l'aveugle et te cognes violemment contre un mur. -15 PV !",
      choices: [
        { text: "ðŸ¤• Te relever", next: "ruelle" }
      ],
      effect: () => {
        playerStats.hp -= 15;
        checkDeath();
      }
    },
    
    ruelle: {
      text: "La ruelle s'Ã©tend devant toi. Ã€ gauche, une lumiÃ¨re rouge palpite (un sex-shop ?). Ã€ droite, des bruits de bagarre. Au fond, une silhouette immobile t'observe.",
      choices: [
        { text: "â¬…ï¸ Aller vers la lumiÃ¨re rouge", next: "sexshop" },
        { text: "âž¡ï¸ Aller vers les bruits", next: "bagarre" },
        { text: "â¬†ï¸ Approcher la silhouette", next: "silhouette" },
        { text: "ðŸ’Š Chercher de la drogue", next: "drogue" }
      ]
    },

    aide: {
      text: "Tu cries Ã  l'aide. Un silence lourd rÃ©pond. Puis, des pas. Des pas rapides. Trop rapides.",
      choices: [
        { text: "ðŸƒ Fuir immÃ©diatement", next: "fuite_chase" },
        { text: "ðŸ¤œ PrÃ©parer le combat", next: "combat_ombre" }
      ]
    },

    sexshop: {
      text: "Le sex-shop 'Le Paradis Interdit' clignote devant toi. Une femme en latex fume dehors : 'Entre, chÃ©ri. Ou t'as peur ?' Elle rit d'un rire rauque.",
      choices: [
        { text: "ðŸšª Entrer dans le shop", next: "sexshop_inside" },
        { text: "ðŸ’¬ Parler Ã  la femme", next: "femme_latex" },
        { text: "ðŸš¶ Passer ton chemin", next: "ruelle_suite" }
      ]
    },

    sexshop_inside: {
      text: "L'intÃ©rieur est sombre, Ã©clairÃ© de nÃ©ons roses. Des sex-toys bizarres tapissent les murs. Le vendeur, un type chauve avec un sourire dÃ©rangeant : 'On a une promotion sur les menottes. Ou tu cherches... autre chose ?'",
      choices: [
        { text: "ðŸ›’ Acheter des menottes (20â‚¬)", next: "acheter_menottes" },
        { text: "ðŸ¤” Demander 'autre chose'", next: "autre_chose" },
        { text: "ðŸƒ Partir vite fait", next: "ruelle_suite" },
        { text: "ðŸ”ª Braquer le vendeur", next: "braquer_vendeur" }
      ]
    },

    acheter_menottes: {
      text: "Tu achÃ¨tes les menottes. Le vendeur : 'Tu veux que je te montre comment Ã§a marche ?' Il s'approche trop prÃ¨s...",
      choices: [
        { text: "ðŸ˜³ Accepter la 'dÃ©monstration'", next: "demo_hot" },
        { text: "ðŸš« Refuser et partir", next: "ruelle_suite" },
        { text: "ðŸ‘Š Le frapper", next: "combat_vendeur" }
      ],
      effect: () => {
        if (playerStats.money >= 20) {
          playerStats.money -= 20;
          playerStats.inventory.push("menottes");
        }
      }
    },

    demo_hot: {
      text: "Le vendeur ferme Ã  clÃ©. 'DÃ©tends-toi...' Ses mains expertes te menottent. Ã‡a devient Ã©trange, puis... plaisant ? Une heure plus tard, tu ressors, confus mais Ã©trangement satisfait. +20 PV pour la relaxation ?",
      choices: [
        { text: "ðŸ˜µ Sortir en titubant", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.hp = Math.min(playerStats.hp + 20, playerStats.maxHp);
      }
    },

    autre_chose: {
      text: "Le vendeur te guide vers une porte arriÃ¨re. 'Les vrais produits sont lÃ .' C'est une salle avec des armes et de la drogue. 'Bienvenue dans mon vrai business.'",
      choices: [
        { text: "ðŸ’‰ Acheter de la drogue (30â‚¬)", next: "acheter_drogue" },
        { text: "ðŸ”« Acheter un flingue (100â‚¬)", next: "acheter_flingue" },
        { text: "ðŸš« 'Non merci' et partir", next: "ruelle_suite" }
      ]
    },

    acheter_drogue: {
      text: "Tu achÃ¨tes un sachet. 'CocaÃ¯ne pure, mon ami.' Tu sniffes une ligne... PUTAIN ! +30 ATK temporaire mais -10 PV !",
      choices: [
        { text: "ðŸ¤ª En reprendre", next: "overdose" },
        { text: "ðŸ˜¤ RÃ©sister et partir", next: "ruelle_suite" }
      ],
      effect: () => {
        if (playerStats.money >= 30) {
          playerStats.money -= 30;
          playerStats.atk += 30;
          playerStats.hp -= 10;
          checkDeath();
        }
      }
    },

    overdose: {
      text: "Tu sniffes tout le sachet. Ton cÅ“ur explose. LittÃ©ralement. Ton dernier souvenir : le plafond qui tourne. ðŸ’€ GAME OVER - OVERDOSE",
      choices: [
        { text: "ðŸ’€ Recommencer", next: "start" }
      ],
      effect: () => {
        playerStats.hp = 0;
        checkDeath();
      }
    },

    acheter_flingue: {
      text: "Tu achÃ¨tes le flingue. +50 ATK ! 'Fais gaffe, il est chargÃ©.' Le vendeur te fait un clin d'Å“il Ã©trange.",
      choices: [
        { text: "ðŸ”« Partir avec le flingue", next: "ruelle_suite" }
      ],
      effect: () => {
        if (playerStats.money >= 100) {
          playerStats.money -= 100;
          playerStats.atk += 50;
          playerStats.inventory.push("flingue");
        }
      }
    },

    braquer_vendeur: {
      text: "Tu sors ton couteau. Le vendeur sourit : 'Erreur, gamin.' Il appuie sur un bouton. Deux gorilles sortent de nulle part.",
      choices: [
        { text: "âš”ï¸ COMBATTRE LES GORILLES", next: "combat_gorilles" },
        { text: "ðŸƒ FUIR", next: "fuite_echec" }
      ]
    },

    combat_gorilles: {
      text: "COMBAT ! Les deux gorilles ont 80 PV chacun. Ton attaque : " + playerStats.atk,
      choices: [
        { text: "ðŸ‘Š Attaquer", next: "combat_gorilles_suite" }
      ]
    },

    combat_gorilles_suite: {
      text: () => {
        const damage = playerStats.atk * 2;
        if (damage >= 160) {
          return "Tu les massacres avec une violence inouÃ¯e ! Ils s'Ã©croulent. Le vendeur : 'Respect... Prends tout ce que tu veux.' +200â‚¬ !";
        } else if (damage >= 80) {
          return "Tu en tues un, mais l'autre te frappe. -40 PV ! Tu fuis avec 50â‚¬.";
        } else {
          return "Tu es trop faible. Ils te tabassent. -60 PV ! Tu rampes dehors.";
        }
      },
      choices: [
        { text: "ðŸ˜° Continuer", next: "ruelle_suite" }
      ],
      effect: () => {
        const damage = playerStats.atk * 2;
        if (damage >= 160) {
          playerStats.money += 200;
        } else if (damage >= 80) {
          playerStats.money += 50;
          playerStats.hp -= 40;
        } else {
          playerStats.hp -= 60;
        }
        checkDeath();
      }
    },

    fuite_echec: {
      text: "Tu essaies de fuir. Un gorille t'attrape et te fracasse contre le mur. -70 PV ! 'Reviens jamais, merde !'",
      choices: [
        { text: "ðŸ¤• Partir en boitant", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.hp -= 70;
        checkDeath();
      }
    },

    femme_latex: {
      text: "La femme te regarde de haut en bas : 'T'as l'air perdu, bÃ©bÃ©. J'peux te faire oublier tes problÃ¨mes... 80â‚¬ pour une heure de paradis.' Elle caresse ta joue.",
      choices: [
        { text: "ðŸ’¸ Accepter (80â‚¬)", next: "sexe_latex" },
        { text: "ðŸš« Refuser poliment", next: "ruelle_suite" },
        { text: "ðŸ˜ˆ Proposer un plan Ã  trois avec le vendeur", next: "plan_trois" }
      ]
    },

    sexe_latex: {
      text: "Elle t'emmÃ¨ne dans une arriÃ¨re-cour. Une heure de passion sauvage. Elle est... experte. TrÃ¨s experte. Tu ressors vidÃ© mais satisfait. +30 PV pour le moral !",
      choices: [
        { text: "ðŸ˜Š Repartir satisfait", next: "ruelle_suite" }
      ],
      effect: () => {
        if (playerStats.money >= 80) {
          playerStats.money -= 80;
          playerStats.hp = Math.min(playerStats.hp + 30, playerStats.maxHp);
        }
      }
    },

    plan_trois: {
      text: "Elle Ã©clate de rire : 'T'es cinglÃ© ! J'aime Ã§a.' Elle appelle le vendeur. Ce qui suit est... indescriptible. Bizarre. GÃ©nial ? Vous finissez tous les trois dans une position impossible. +50 PV ! Nouvelle compÃ©tence dÃ©bloquÃ©e : PERVERSION",
      choices: [
        { text: "ðŸ¤¯ Repartir confus", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.hp = Math.min(playerStats.hp + 50, playerStats.maxHp);
        playerStats.atk += 10;
      }
    },

    bagarre: {
      text: "Tu arrives sur une scÃ¨ne brutale : trois types tabassent un homme Ã  terre. L'un d'eux te voit : 'Toi, dÃ©gage ou t'es le prochain !'",
      choices: [
        { text: "ðŸ’ª Les affronter", next: "combat_gang" },
        { text: "ðŸƒ Fuir", next: "ruelle_suite" },
        { text: "ðŸ¤ Les rejoindre pour tabasser le type", next: "rejoindre_gang" },
        { text: "ðŸ“¹ Filmer et mettre sur internet", next: "filmer" }
      ]
    },

    combat_gang: {
      text: "COMBAT ! Les trois ont 50 PV chacun. Ton attaque totale fera la diffÃ©rence...",
      choices: [
        { text: "âš”ï¸ ATTAQUER", next: "combat_gang_suite" }
      ]
    },

    combat_gang_suite: {
      text: () => {
        const totalHP = 150;
        const damage = playerStats.atk * 3;
        if (damage >= totalHP) {
          return "Tu les dÃ©truis tous ! FATALITY ! L'homme au sol : 'Merci... voilÃ  100â‚¬' Il disparaÃ®t.";
        } else {
          return "Tu en blesses un mais ils sont trop nombreux. -50 PV ! Tu fuis.";
        }
      },
      choices: [
        { text: "ðŸ˜“ Continuer", next: "ruelle_suite" }
      ],
      effect: () => {
        const damage = playerStats.atk * 3;
        if (damage >= 150) {
          playerStats.money += 100;
        } else {
          playerStats.hp -= 50;
        }
        checkDeath();
      }
    },

    rejoindre_gang: {
      text: "Tu leur files un coup de pied dans les cÃ´tes du type. CRAC. 'Ouais ! T'es des nÃ´tres maintenant !' Ils te donnent 30â‚¬. Vous tuez le type ensemble. Ton Ã¢me est un peu plus noire.",
      choices: [
        { text: "ðŸ˜ˆ Continuer avec eux", next: "gang_path" },
        { text: "ðŸ˜° Partir", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.money += 30;
        playerStats.atk += 5;
      }
    },

    gang_path: {
      text: "Le gang t'accepte. 'On a un braquage prÃ©vu. T'es chaud ?' Ils sortent des flingues.",
      choices: [
        { text: "ðŸ”« Faire le braquage", next: "braquage" },
        { text: "ðŸš« Refuser et partir", next: "ruelle_suite" }
      ]
    },

    braquage: {
      text: "Vous braquezune Ã©picerie. Le caissier sort un fusil. BANG ! L'un des tiens s'effondre. Combat ou fuite ?",
      choices: [
        { text: "ðŸ”« Tirer sur le caissier", next: "tuer_caissier" },
        { text: "ðŸƒ Fuir comme un lÃ¢che", next: "fuite_braquage" }
      ]
    },

    tuer_caissier: {
      text: "Tu tires. Le caissier s'Ã©croule. Vous prenez 500â‚¬ mais les sirÃ¨nes approchent. Vous courez. CHOIX : oÃ¹ te cacher ?",
      choices: [
        { text: "ðŸ  Chez ta mÃ¨re", next: "chez_mere" },
        { text: "ðŸŒƒ Sur les toits", next: "toits" },
        { text: "ðŸš— Voler une voiture", next: "voler_voiture" }
      ],
      effect: () => {
        playerStats.money += 500;
      }
    },

    chez_mere: {
      text: "Ta mÃ¨re ouvre : 'ENCORE TOI ?! J'EN AI MARRE !' Elle appelle les flics. -100 PV de trahison Ã©motionnelle. GAME OVER - ARRÃŠTÃ‰ PAR MAMAN",
      choices: [
        { text: "ðŸ˜­ Recommencer", next: "start" }
      ],
      effect: () => {
        playerStats.hp = 0;
        checkDeath();
      }
    },

    toits: {
      text: "Tu grimpes sur les toits. Vue magnifique sur la ville en feu. Tu rÃ©alises : tu es libre. VICTOIRE - FIN : LE ROI DES TOITS ðŸ‘‘",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    voler_voiture: {
      text: "Tu voles une Tesla. Elle se conduit toute seule. Tu roules vers le coucher de soleil avec 500â‚¬ en poche. VICTOIRE - FIN : ROAD TRIP CRIMINEL ðŸš—",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    filmer: {
      text: "Tu filmes tout. La vidÃ©o devient virale. 10 millions de vues. Tu gagnes 1000â‚¬ en pubs. Mais le gang te retrouve... -80 PV de vengeance !",
      choices: [
        { text: "ðŸ˜± Fuir", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.money += 1000;
        playerStats.hp -= 80;
        checkDeath();
      }
    },

    silhouette: {
      text: "Tu t'approches. La silhouette est... toi. Exactement toi. Il sourit : 'Surpris ? Je suis ton cÃ´tÃ© sombre. Veux-tu fusionner ?'",
      choices: [
        { text: "ðŸ¤ Fusionner", next: "fusion" },
        { text: "âš”ï¸ Le combattre", next: "combat_clone" },
        { text: "ðŸƒ Fuir cette merde", next: "ruelle_suite" }
      ]
    },

    fusion: {
      text: "Vous fusionnez. Tu sens une puissance incroyable. +100 ATK ! +50 PV ! Mais tu deviens plus sombre... NOUVELLE FORME : DEMON INTÃ‰RIEUR",
      choices: [
        { text: "ðŸ˜ˆ Accepter ta nature", next: "demon_path" }
      ],
      effect: () => {
        playerStats.atk += 100;
        playerStats.hp += 50;
        playerStats.maxHp += 50;
      }
    },

    demon_path: {
      text: "Tu es maintenant un dÃ©mon urbain. Tu domines la ruelle. Tous te craignent. Tu es... le roi. VICTOIRE - FIN : SEIGNEUR DES TÃ‰NÃˆBRES ðŸ‘¹",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    combat_clone: {
      text: "COMBAT CONTRE TOI-MÃŠME ! Il a tes stats exactes. C'est un combat Ã  mort...",
      choices: [
        { text: "ðŸ‘Š COMBATTRE", next: "combat_clone_suite" }
      ]
    },

    combat_clone_suite: {
      text: "Vous vous battez pendant des heures. Match nul. Vous vous effondrez tous les deux. -50 PV. Tu te rÃ©veilles seul.",
      choices: [
        { text: "ðŸ˜µ Continuer", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.hp -= 50;
        checkDeath();
      }
    },

    drogue: {
      text: "Tu fouilles et trouves une seringue pleine. HÃ©roÃ¯ne ? Ou... autre chose ? Un sans-abri te regarde : 'Fais pas Ã§a, gamin...'",
      choices: [
        { text: "ðŸ’‰ Injecter quand mÃªme", next: "injection" },
        { text: "ðŸš« Jeter la seringue", next: "ruelle_suite" },
        { text: "ðŸŽ Donner au sans-abri", next: "donner_sdf" }
      ]
    },

    injection: {
      text: "Tu injectes. EXPLOSION DE SENSATIONS ! C'Ã©tait de l'adrÃ©naline pure. +80 ATK pour 3 tours ! Mais -30 PV...",
      choices: [
        { text: "ðŸ¤¯ Continuer dÃ©foncÃ©", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.atk += 80;
        playerStats.hp -= 30;
        checkDeath();
      }
    },

    donner_sdf: {
      text: "Le SDF : 'T'es bon, gamin. Tiens.' Il te donne un vieux revolver. +40 ATK ! 'C'Ã©tait Ã  mon fils... il est mort. Venge-le.'",
      choices: [
        { text: "ðŸ”« Accepter le revolver", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.atk += 40;
      }
    },

    ruelle_suite: {
      text: "Tu continues dans la ruelle. Soudain, une porte s'ouvre. Une lumiÃ¨re aveuglante. Une voix : 'Entre... ton destin t'attend.'",
      choices: [
        { text: "ðŸšª Entrer dans la lumiÃ¨re", next: "final_choice" },
        { text: "ðŸƒ Fuir dÃ©finitivement", next: "vraie_fuite" }
      ]
    },

    final_choice: {
      text: "Tu entres. C'est... un temple ? Un autel avec trois choix : UN CÅ’UR (amour), UN CRÃ‚NE (pouvoir), UN SAC D'OR (richesse).",
      choices: [
        { text: "â¤ï¸ Choisir le CÅ’UR", next: "fin_amour" },
        { text: "ðŸ’€ Choisir le CRÃ‚NE", next: "fin_pouvoir" },
        { text: "ðŸ’° Choisir l'OR", next: "fin_richesse" }
      ]
    },

    fin_amour: {
      text: "Tu touches le cÅ“ur. Tous tes souvenirs violents s'effacent. Tu te rÃ©veilles chez toi. C'Ã©tait un rÃªve ? Ta copine est lÃ . Vous vous embrassez. VICTOIRE - FIN : RÃ‰DEMPTION PAR L'AMOUR â¤ï¸",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    fin_pouvoir: {
      text: "Le crÃ¢ne t'absorbe. Tu deviens un dieu de la destruction. Tu domines le monde. Seul. Ã‰ternellement seul. VICTOIRE - FIN : LE DIEU SOLITAIRE ðŸ’€",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    fin_richesse: {
      text: "L'or se multiplie Ã  l'infini. Tu es milliardaire. Mais vide Ã  l'intÃ©rieur. Tu achÃ¨tes tout. Mais rien n'a de sens. VICTOIRE - FIN : LE ROI VIDE ðŸ’°",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    vraie_fuite: {
      text: "Tu cours. Tu cours sans arrÃªt. Tu quittes la ville. Tu changes de nom. Nouvelle vie. Mais les cauchemars restent... VICTOIRE (?) - FIN : LE FUGITIF ðŸƒ",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    combat_ombre: {
      text: "Une crÃ©ature sort de l'ombre. Elle a 100 PV. C'est la manifestation de ta culpabilitÃ©.",
      choices: [
        { text: "ðŸ‘Š COMBATTRE", next: "combat_ombre_suite" }
      ]
    },

    combat_ombre_suite: {
      text: () => {
        const damage = playerStats.atk;
        if (damage >= 100) {
          return "Tu dÃ©truis la crÃ©ature ! Ta culpabilitÃ© s'Ã©vapore. +50 PV ! Tu es libre.";
        } else {
          return "Elle te draine. -60 PV. 'Tu ne peux pas m'Ã©chapper...' Elle disparaÃ®t.";
        }
      },
      choices: [
        { text: "ðŸ˜° Continuer", next: "ruelle_suite" }
      ],
      effect: () => {
        if (playerStats.atk >= 100) {
          playerStats.hp = Math.min(playerStats.hp + 50, playerStats.maxHp);
        } else {
          playerStats.hp -= 60;
        }
        checkDeath();
      }
    },

    fuite_chase: {
      text: "Tu cours. Les pas te suivent. Ton cÅ“ur explose. Tu tombes. Noir. Tu te rÃ©veilles... ailleurs. NOUVELLE DIMENSION ?",
      choices: [
        { text: "â“ Explorer", next: "dimension_wtf" }
      ]
    },

    dimension_wtf: {
      text: "Tout est rouge. Le ciel saigne. Des crÃ©atures volent. L'une te parle : 'Bienvenue en Enfer. Ou au Paradis. On ne sait plus trop.' Elle rit.",
      choices: [
        { text: "ðŸ˜ˆ 'Je veux Ãªtre le roi ici'", next: "roi_enfer" },
        { text: "ðŸ™ 'Laissez-moi partir'", next: "partir_enfer" },
        { text: "ðŸ’‹ 'Tu es sexy pour un dÃ©mon'", next: "sexe_demon" }
      ]
    },

    roi_enfer: {
      text: "Le dÃ©mon te teste. COMBAT FINAL ! Il a 200 PV. S'il te reste plus de 50 PV et 150+ ATK, tu gagnes.",
      choices: [
        { text: "âš”ï¸ COMBATTRE", next: "combat_roi_enfer" }
      ]
    },

    combat_roi_enfer: {
      text: () => {
        if (playerStats.hp > 50 && playerStats.atk >= 150) {
          return "TU LE DÃ‰TRUIS ! Tous les dÃ©mons s'inclinent. Tu es le nouveau ROI DE L'ENFER ! VICTOIRE ULTIME ðŸ‘‘ðŸ˜ˆ";
        } else {
          return "Il te pulvÃ©rise. Tu deviens son esclave Ã©ternel. GAME OVER - ESCLAVE DÃ‰MONIAQUE";
        }
      },
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ],
      effect: () => {
        if (playerStats.hp <= 50 || playerStats.atk < 150) {
          playerStats.hp = 0;
          checkDeath();
        }
      }
    },

    partir_enfer: {
      text: "Le dÃ©mon : 'TrÃ¨s bien. Mais tu oublieras tout.' FLASH. Tu te rÃ©veilles dans ton lit. C'Ã©tait... quoi ? GAME OVER - AMNÃ‰SIE TOTALE",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    sexe_demon: {
      text: "Le dÃ©mon sourit : 'Audacieux...' Une nuit de passion interdimensionnelle. C'Ã©tait... indescriptible. Tu reviens sur Terre avec des pouvoirs. +100 ATK ! +100 PV !",
      choices: [
        { text: "ðŸ˜ˆ Retourner conquÃ©rir", next: "retour_puissant" }
      ],
      effect: () => {
        playerStats.atk += 100;
        playerStats.hp += 100;
        playerStats.maxHp += 100;
      }
    },

    retour_puissant: {
      text: "Tu retournes dans ta ruelle. Mais tu es changÃ©. Surpuissant. Tout le monde te craint. Tu contrÃ´les tout. VICTOIRE - FIN : LE HYBRIDE DÃ‰MONIAQUE ðŸ˜ˆâœ¨",
      choices: [
        { text: "ðŸŽ® Rejouer", next: "start" }
      ]
    },

    fuite_braquage: {
      text: "Tu fuis. Le gang te traite de lÃ¢che. Tu es seul. Avec 0â‚¬. PathÃ©tique. GAME OVER - LA HONTE",
      choices: [
        { text: "ðŸ’€ Recommencer", next: "start" }
      ]
    },

    combat_vendeur: {
      text: "Tu frappes le vendeur. Il tombe. Mais il appuie sur un bouton d'alarme. Alarme Ã  la police ! -20 PV de stress !",
      choices: [
        { text: "ðŸƒ Fuir vite", next: "ruelle_suite" }
      ],
      effect: () => {
        playerStats.hp -= 20;
        checkDeath();
      }
    }
  };

  function updateStats() {
    document.getElementById("hp").textContent = playerStats.hp;
    document.getElementById("atk").textContent = playerStats.atk;
    document.getElementById("money").textContent = playerStats.money;
  }

  function checkDeath() {
    if (playerStats.hp <= 0) {
      return true;
    }
    return false;
  }

  function showScene(sceneKey) {
    const scene = game[sceneKey];
    const storyEl = document.getElementById("story");
    const choicesEl = document.getElementById("choices");
    
    // Apply effects first
    if (scene.effect) {
      scene.effect();
    }
    
    // Check death after effects
    if (checkDeath() && sceneKey !== 'start') {
      storyEl.innerHTML = "<span class='death'>ðŸ’€ TU ES MORT ðŸ’€</span><br>Points de vie Ã©puisÃ©s...";
      choicesEl.innerHTML = "";
      const btn = document.createElement("button");
      btn.textContent = "ðŸ’€ Recommencer";
      btn.onclick = () => {
        playerStats = { hp: 100, maxHp: 100, atk: 10, money: 0, inventory: [] };
        updateStats();
        showScene("start");
      };
      choicesEl.appendChild(btn);
      return;
    }
    
    // Display story text
    if (typeof scene.text === 'function') {
      storyEl.textContent = scene.text();
    } else {
      storyEl.textContent = scene.text;
    }
    
    // Display choices
    choicesEl.innerHTML = "";
    scene.choices.forEach(choice => {
      const btn = document.createElement("button");
      btn.textContent = choice.text;
      btn.onclick = () => {
        if (choice.effect) {
          choice.effect();
        }
        showScene(choice.next);
      };
      choicesEl.appendChild(btn);
    });
    
    updateStats();
  }
  
  // Start game
  showScene("start");
</script>
</body>
</html>